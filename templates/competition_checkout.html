{% load static %}
{% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">

<style>
  body {
    background: linear-gradient(135deg, #f4f7fc, #e8f0fe);
    font-family: 'Segoe UI', sans-serif;
    color: #003366;
    padding-bottom: 50px;
  }

  .checkout-header {
    text-align: center;
    padding: 20px 0;
    animation: fadeInDown 0.6s;
  }

  .checkout-header img {
    height: 60px;
    margin-bottom: 10px;
  }

  .checkout-header h2 {
    color: #002244;
    font-weight: bold;
  }

  .form-section, .cart-summary {
    background-color: #ffffff;
    border-radius: 16px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    padding: 25px;
    margin-bottom: 30px;
    animation: fadeInUp 0.6s;
  }

  .cart-summary h4, .form-section h4 {
    color: #002244;
    font-weight: 600;
    margin-bottom: 20px;
  }

  .btn-dark-blue {
    background-color: #002244;
    color: white;
    transition: 0.3s;
  }

  .btn-dark-blue:hover {
    background-color: #001122;
  }

  .badge-free {
    background-color: #00aa55;
    color: #fff;
    padding: 6px 10px;
    border-radius: 5px;
    font-weight: bold;
  }
</style>

<div class="container mt-5 animate__animated animate__fadeIn">
  <div class="checkout-header">
    <img src="{% static 'images/unstop-logo.svg' %}" alt="Company Logo">
    <h2>Competition Registration</h2>
    <p class="text-muted">Register quickly and reserve your spot</p>
  </div>

  {% if success_message %}
    <div class="alert alert-success text-center animate__animated animate__fadeInUp">
      <i class="fas fa-check-circle me-2"></i>{{ success_message }}
    </div>
  {% endif %}

  <div class="row justify-content-center">
    <!-- Summary Card -->
    <div class="col-lg-4">
      <div class="cart-summary">
        <h4>Summary</h4>
        <ul class="list-group">
          <li class="list-group-item">
            <strong>{{ competition.title }}</strong><br>
            <small class="text-muted">Hosted by: {{ competition.host_org }}</small>
          </li>
          <li class="list-group-item"><strong>Type:</strong> {{ competition.competition_type }}</li>
          <li class="list-group-item"><strong>Category:</strong> {{ competition.category }}</li>
          <li class="list-group-item"><strong>Mode:</strong> {{ competition.mode }}</li>
          <li class="list-group-item"><strong>Team Size:</strong> {{ competition.team_size }}</li>
          <li class="list-group-item"><strong>Start:</strong> {{ competition.start_date }}</li>
          <li class="list-group-item"><strong>End:</strong> {{ competition.end_date }}</li>
          <li class="list-group-item"><strong>Prize Pool:</strong> {{ competition.prize_pool }}</li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <strong>Fee:</strong>
            {% if competition.fee_amount == 0 or competition.category == "Free" %}
              <span class="badge-free">Free</span>
            {% else %}
              â‚¹{{ competition.fee_amount }}
            {% endif %}
          </li>
        </ul>
      </div>
    </div>

    <!-- Form -->
    <div class="col-lg-6">
      <div class="form-section">
        <h4>Candidate Details</h4>
        <p><strong>Name:</strong> {{ profile.first_name }} {{ profile.last_name }}</p>
        <p><strong>Email:</strong> {{ profile.email }}</p>
        <p><strong>Phone:</strong> {{ profile.phone }}</p>
        <hr>

        <form method="POST">
          {% csrf_token %}
          <div class="form-check mb-3">
            <input type="checkbox" class="form-check-input" id="terms1" required>
            <label class="form-check-label" for="terms1">I agree to the <a href="#">Terms & Conditions</a>.</label>
          </div>
          <button type="submit" class="btn btn-dark-blue w-100">
            <i class="fas fa-check-circle me-2"></i> Register
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}