{% extends "admin_panel/admin_base.html" %}
{% block content %}

<!-- Bootstrap & Font Awesome -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
  .table-wrapper {
    background-color: #fff;
    border-radius: 12px;
    box-shadow: 0 0 15px rgba(0,0,0,0.08);
    overflow: hidden;
  }

  .table thead th {
    background-color: #0b162a;
    color: #fff;
    border: none;
  }

  .table tbody td {
    background-color: #fdfdfd;
  }

  .table td, .table th {
    vertical-align: middle;
    padding: 14px 12px;
  }

  .table tr:last-child td {
    border-bottom: none;
  }

  .btn-warning {
    background-color: #ffc107;
    border: none;
  }

  .btn-warning:hover {
    background-color: #e0a800;
  }

  .action-icons i {
    transition: all 0.2s ease-in-out;
    cursor: pointer;
  }

  .action-icons i:hover {
    transform: scale(1.2);
  }

  .header-title {
    color: #0b162a;
    font-weight: 600;
  }
</style>

<div class="container-fluid px-3">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h3 class="header-title">
      <i class="fas fa-briefcase me-2 text-primary"></i>Internship Listings
    </h3>
    <a href="{% url 'add_internship' %}" class="btn btn-warning btn-sm">
      <i class="fas fa-plus me-1"></i> Add Internship
    </a>
  </div>

  <div class="table-wrapper">
    <div class="table-responsive">
      <table class="table table-bordered table-hover align-middle mb-0">
        <thead>
          <tr>
            <th style="width: 50px;">S.No.</th>
            <th>ID</th>
            <th>Title</th>
            <th>Company</th>
            <th>Domain</th>
            <th>Mode</th>
            <th>Category</th>
            <th>Stipend</th>
            <th>Duration</th>
            <th>Location</th>
            <th class="text-center" style="width: 130px;">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for internship in internships %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ internship.id }}</td>
            <td>{{ internship.title }}</td>
            <td>{{ internship.company_name }}</td>
            <td>{{ internship.domain }}</td>
            <td>{{ internship.mode }}</td>
            <td>{{ internship.category }}</td>
            <td>{{ internship.stipend_amount }}</td>
            <td>{{ internship.duration_weeks }} weeks</td>
            <td>{{ internship.location }}</td>
            <td class="action-icons text-center">
              <a href="{% url 'view_internship' internship.id %}" title="View">
                <i class="fas fa-eye text-primary"></i>
              </a>
              <a href="{% url 'edit_internship' internship.id %}" title="Edit" class="ms-2">
                <i class="fas fa-pen text-success"></i>
              </a>
              <a href="{% url 'delete_internship' internship.id %}" title="Delete" class="ms-2"
                 onclick="return confirm('Are you sure you want to delete this internship?');">
                <i class="fas fa-trash text-danger"></i>
              </a>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="11" class="text-center text-muted">No internships available.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

{% endblock %}
