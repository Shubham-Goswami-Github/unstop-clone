{% extends "admin_panel/admin_base.html" %}
{% block content %}
{% load static %}

<!-- Bootstrap & Font Awesome -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
  .table-wrapper {
    background-color: #fff;
    border-radius: 12px;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.08);
    overflow: hidden;
  }

  .table thead th {
    background-color: #0b162a;
    color: #fff;
    border: none;
    text-align: center;
  }

  .table tbody td {
    background-color: #fdfdfd;
    text-align: center;
  }

  .table td, .table th {
    vertical-align: middle;
    padding: 14px 12px;
  }

  .table tr:last-child td {
    border-bottom: none;
  }

  .btn-warning {
    background-color: #157db6;
    border: none;
  }

  .btn-warning:hover {
    background-color: #4c27e0;
  }

  .action-icons i {
    transition: all 0.2s ease-in-out;
    cursor: pointer;
  }

  .action-icons i:hover {
    transform: scale(1.2);
  }

  .badge {
    font-size: 12px;
    padding: 6px 10px;
    border-radius: 20px;
  }

  .header-title {
    color: #0b162a;
    font-weight: 600;
  }

  .text-muted {
    background-color: #f8f9fa;
    color: #6c757d;
  }
</style>

<div class="container-fluid px-3">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h3 class="header-title">
      <i class="fas fa-school me-2 text-primary"></i>Registered Schools
    </h3>
    <a href="{% url 'add_school' %}" class="btn btn-warning btn-sm">
      <i class="fas fa-plus me-1"></i> Add School
    </a>
  </div>

  <div class="table-wrapper">
    <div class="table-responsive">
      <table class="table table-bordered table-hover align-middle mb-0">
        <thead>
          <tr>
            <th style="width: 50px;">ID</th>
            <th>School Name</th>
            <th>City</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Approved</th>
            <th class="text-center" style="width: 130px;">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for school in schools %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ school.name }}</td>
            <td>{{ school.city }}</td>
            <td>{{ school.email }}</td>
            <td>{{ school.contact_number }}</td>
            <td>
              {% if school.is_approved %}
                <span class="badge bg-success">Approved</span>
              {% else %}
                <span class="badge bg-danger">Pending</span>
              {% endif %}
            </td>
            <td class="action-icons text-center">
              <a href="{% url 'school_detail' school.id %}" title="View">
                <i class="fas fa-eye text-primary"></i>
              </a>
              <a href="{% url 'edit_school' school.id %}" title="Edit" class="ms-2">
                <i class="fas fa-pen text-success"></i>
              </a>
              <a href="{% url 'delete_school' school.id %}" title="Delete" class="ms-2"
                 onclick="return confirm('Are you sure you want to delete this school?');">
                <i class="fas fa-trash text-danger"></i>
              </a>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="7" class="text-center text-muted">No schools found.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

{% endblock %}
