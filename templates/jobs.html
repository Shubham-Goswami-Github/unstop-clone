{% extends "navbar.html" %}
{% load static %}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

{% block content %}
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    background-color: #f8f9fa;
    overflow-x: hidden;
  }

  /* Animations */
  @keyframes fadeInUp {
    0% {opacity: 0; transform: translateY(30px);}
    100% {opacity: 1; transform: translateY(0);}
  }
  @keyframes slideInLeft {
    0% {opacity: 0; transform: translateX(-40px);}
    100% {opacity: 1; transform: translateX(0);}
  }
  @keyframes slideInRight {
    0% {opacity: 0; transform: translateX(40px);}
    100% {opacity: 1; transform: translateX(0);}
  }
  @keyframes scaleFade {
    0% {opacity: 0; transform: scale(0.8);}
    100% {opacity: 1; transform: scale(1);}
  }

  /* Typing Effect */
  @keyframes typing {
    from {width: 0;}
    to {width: 100%;}
  }
  @keyframes blink {
    50% {border-color: transparent;}
  }

  /* Hero Section */
  .hero-section {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 60px 40px;
    background: linear-gradient(145deg, #eaf3fb, #f0f7ff);
    gap: 40px;
    flex-wrap: wrap;
    animation: fadeInUp 1s ease;
  }

  .hero-text {
    flex: 1;
    max-width: 550px;
    text-align: left;
    animation: slideInLeft 1s ease-in-out;
  }

  .hero-text h1 {
    font-size: 3.2rem;
    font-weight: 700;
    margin-bottom: 10px;
  }

  .hero-text .unlock {
    background: linear-gradient(to right, #003366, #0056b3);
    color: #fff;
    padding: 6px 18px;
    border-radius: 5px;
    font-weight: bold;
  }

  .hero-text .opportunities {
    color: #003366;
    margin-left: 12px;
  }

  .typing-text {
    font-style: italic;
    font-size: 1.2rem;
    color: #444;
    margin-top: 15px;
    border-right: 3px solid #003366;
    white-space: nowrap;
    overflow: hidden;
    width: 0;
    display: inline-block;
  }

  .hero-image {
    flex: 1;
    display: flex;
    justify-content: flex-end; /* Move image towards the right */
    padding-right: 30px; /* Slight padding from the edge */
    animation: slideInRight 1.2s ease-in-out;
  }

  .hero-image img {
    max-width: 420px;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  }

  /* Filters */
  .filter-section {
    padding: 40px 20px 20px;
    background: #fff;
    animation: fadeInUp 0.8s ease;
  }

  .filter-buttons-group {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
    margin-bottom: 15px;
  }

  .filter-buttons-group button {
    background-color: #fff;
    color: #003366;
    border: 2px solid #003366;
    padding: 10px 25px;
    border-radius: 30px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
  }

  .filter-buttons-group button:hover,
  .filter-buttons-group button.active {
    background-color: #003366;
    color: white;
  }

  /* Job Cards */
  .cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    padding: 40px 20px;
    max-width: 1200px;
    margin: auto;
  }

  .tab-card {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 16px;
    padding: 20px;
    box-shadow: 0 4px 18px rgba(0, 0, 0, 0.08);
    display: none;
    justify-content: space-between;
    align-items: center;
    transition: all 0.3s ease-in-out;
    border: 1px solid #e3e3e3;
    text-decoration: none;
  }

  .tab-card.show {
    display: flex;
    animation: scaleFade 0.6s ease;
  }

  .tab-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.12);
    border-color: #0056b3;
  }

  .tab-text {
    max-width: 70%;
    color: #333;
  }

  .tab-title {
    font-weight: 700;
    color: #003366;
    margin-bottom: 8px;
    font-size: 1.2rem;
  }

  .tab-desc {
    font-size: 0.95rem;
    color: #555;
  }

  .tab-desc span {
    font-weight: 500;
    color: #000;
  }

  .tab-img {
    width: 85px;
    height: 85px;
    object-fit: contain;
    transition: transform 0.3s ease;
  }

  .tab-card:hover .tab-img {
    transform: scale(1.08);
  }

  @media (max-width: 768px) {
    .hero-text h1 {
      font-size: 2.4rem;
    }
    .tab-card {
      flex-direction: column;
      align-items: flex-start;
    }
    .tab-img {
      margin-top: 15px;
    }
    .hero-image {
      justify-content: center;
      padding-right: 0;
    }
  }
</style>

<!-- Hero -->
<div class="hero-section">
  <div class="hero-text">
    <h1><span class="unlock">UNLOCK</span><span class="opportunities">AMBITION</span></h1>
    <div class="typing-text" id="typingText"></div>
  </div>
  <div class="hero-image">
    <img src="{% static 'images/J1.webp' %}" alt="Hero">
  </div>
</div>

<!-- Filters -->
<div class="filter-section">
  <div class="filter-buttons-group">
    <button id="humanBtn" onclick="setCat('Human Resources')">Human Resources</button>
    <button id="softwareBtn" onclick="setCat('Software Development')">Software Development</button>
    <button id="marketingBtn" onclick="setCat('Marketing')">Marketing</button>
    <button id="operationsBtn" onclick="setCat('Operations')">Operations</button>
    <button id="financeBtn" onclick="setCat('Finance')">Finance</button>
  </div>
  <div class="filter-buttons-group">
    <button id="Full-timeBtn" onclick="setType('Full-time')">Full‑time</button>
    <button id="Part-timeBtn" onclick="setType('Part-time')">Part‑time</button>
    <button id="ContractBtn" onclick="setType('Contract')">Contract</button>
    <button id="InternshipBtn" onclick="setType('Internship')">Internship</button>
  </div>
</div>

<!-- Job Cards -->
<div class="cards-grid" id="jobCards">
  {% for job in jobs %}
   <div class="tab-card" data-cat="{{ job.category }}" data-type="{{ job.employment_type }}">

      <div class="tab-text">
        <div class="tab-title">{{ job.title|truncatechars:40 }}</div>
        <p class="tab-desc">
          <strong>Company:</strong> <span>{{ job.company_name }}</span><br>
          <strong>Domain:</strong> <span>{{ job.domain }}</span><br>
          <strong>Type:</strong> <span>{{ job.employment_type }}</span><br>
          <strong>Category:</strong> <span>{{ job.category }}</span><br>
          {% if job.salary_min_lpa %}
            <strong>Salary:</strong> ₹<span>{{ job.salary_min_lpa }}‑{{ job.salary_max_lpa }} LPA</span>
          {% endif %}
        </p>
        <a href="{% url 'user_job_detail' job.id %}" class="btn btn-sm btn-outline-primary">View Details</a>
      </div>
      <img src="{% static 'images/U1.webp' %}" alt="Jobs" class="tab-img">
    </div>
  {% empty %}
    <p class="text-center text-muted">No jobs available.</p>
  {% endfor %}
</div>

<!-- Scripts -->
<script>
let cat = null, typ = null;

function toggleActive(id, group){
  document.querySelectorAll(group).forEach(b => b.classList.remove('active'));
  document.getElementById(id)?.classList.add('active');
}

function setCat(c){
  cat = (c === 'all') ? null : c;
  const idMap = {
    'all': 'allBtn',
    'Human Resources': 'humanBtn',
    'Software Development': 'softwareBtn',
    'Marketing': 'marketingBtn',
    'Operations': 'operationsBtn',
    'Finance': 'financeBtn'
  };
  toggleActive(idMap[c] || 'allBtn', '.filter-section .filter-buttons-group:first-child button');
  apply();
}

function setType(t){
  typ = (typ === t) ? null : t;
  toggleActive(t + 'Btn', '.filter-section .filter-buttons-group:last-child button');
  apply();
}

function apply(){
  let visible = 0;
  const cards = document.querySelectorAll('.tab-card');

  if (!cat && !typ) {
    cards.forEach(card => card.classList.remove('show'));
    return;
  }

  cards.forEach(card => {
    const show = (!cat || card.dataset.cat === cat) && (!typ || card.dataset.type === typ);
    if(show){
      card.classList.add('show');
    } else {
      card.classList.remove('show');
    }
    if (show) visible++;
  });

  document.getElementById('jobCards').style.justifyContent = (visible === 1) ? 'center' : 'initial';
}

// Typing Effect with Multiple Lines
const texts = [
  "Explore top jobs to level up your career path!",
  "Find the right role for your ambitions!",
  "Start your success journey today!",
  "Opportunities that match your passion await!",
  "Your dream career is just one click away!"
];
let index = 0;
const element = document.getElementById('typingText');

function typeText(){
  element.style.width = '0';
  element.textContent = texts[index];
  element.style.animation = 'typing 4s steps(40, end), blink 0.7s infinite';
  index = (index + 1) % texts.length;
}

setInterval(typeText, 4500);
typeText();
</script>
 {% include 'feedback_slider.html' %}
 
  <div class="strip-container">
    {% include 'industry_strip.html' %}
  </div>
<div class="bottom-footer-wrapper">
  {% include 'bottom_menu.html' %}
</div>

<style>
footer.bg-footer {
  margin-left: calc(-1 * (100vw - 100%)/2);
  margin-right: calc(-1 * (100vw - 100%)/2);
  width: 100vw;
}
</style>
{% endblock %}
